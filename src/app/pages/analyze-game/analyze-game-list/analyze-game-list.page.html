<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        color="dark"
        defaultHref="/"
        text="{{ 'General.back_button' | translate }}"
      ></ion-back-button>
    </ion-buttons>
    <ion-title>{{ "AnalyzeGame.title" | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- <ngx-json-viewer [json]="tracks" [expanded]="false"></ngx-json-viewer> -->

  <!-- select game env. and mode -->
  <div class="select-style">
    <div>
      <ion-label>
        <span class="cat-title-style">Game environment</span>
      </ion-label>
      <select
        interface="popover"
        [(ngModel)]="gameEnvSelected"
        (change)="filterGamesEnv($event.target.value)"
      >
        <option value="real">Real world</option>

        <!-- allow scholars to view virtual environment mode -->
        <option value="virtual">
          Virtual env.
        </option>
      </select>
    </div>
    <div>
      <ion-label>
        <span class="cat-title-style">Game mode</span>
      </ion-label>
      <select
        interface="popover"
        [(ngModel)]="gameModeSelected"
        (change)="filterGamesMode($event.target.value)"
      >
        <option value="single">Single player</option>
        <option
          value="multi-player"
          [disabled]="true"
        >
          Multiplayer {{ "( not implemented yet )"}}
        </option>
      </select>
    </div>
  </div>
  <!--  -->

  <!-- new impl. (showing user games that has tracks) -->
  <!-- list title -->
  <h3 class="list-title">List of games with tracks</h3>

  <!-- show this message only when game tracks list is empty -->
  <div
    class="emptygametracks"
    *ngIf="all_tracks && all_tracks.length == 0"
  >
    <!-- To DO: <h2>{{ "AnalyzeGame.emptyGameTracks" | translate }}</h2> -->
    <h2>The games you created in {{(gameEnvSelected=="real"?"real world":"virtual environment")}} category have no tracks yet!</h2>
  </div>

  <ion-card
    *ngFor="let game of all_tracks"
    (click)="gameClick(game)"
    detail
    color="secondary"
  >
    <ion-card-header>
      <ion-item lines="none" color="secondary">
        <ion-label>
          <h2>
            <ion-icon name="game-controller"></ion-icon>
            {{ game.name }}
          </h2>
        </ion-label>
        <ion-label slot="end" class="gameTracksCount">
          {{ (game.tracksCount? game.tracksCount + " " + (game.tracksCount
          >1?"Tracks": "Track"): "") }}
        </ion-label>
      </ion-item>
    </ion-card-header>
  </ion-card>
</ion-content>